# SPMPlugin

[![swift-version](https://img.shields.io/badge/swift-5.6-brightgreen.svg)](https://github.com/apple/swift)
[![xcode-version](https://img.shields.io/badge/xcode-14.0.1-brightgreen)](https://developer.apple.com/xcode/)

Contains a plugin conveniently called `Plug` that can be used on both Swift Package Manager targets as on
xcode project targets.

This project was made because there where several issues for me to actually get it to run with visual output on SPM and Xcode targets.
This was due to:

- plugins do not provide breakpoints when run
- plugins used in xcode should refer to a tool with @main and not a main.swift file as otherwise tool cannot be found
- output should be located into the `pluginWorkingDirectory` which is not your sources folder but in the dreaded `DerivedData` folder
- If output needs to be compiled than all output generated by your tool should be listed in the output files, or they will just be generated but not compiled

## Potential

- [swiftgen](https://github.com/SwiftGen/SwiftGen/blob/develop/Documentation/Articles/SwiftGen-Build-Tool-Package-Plugins.md) can be used to have type safe asset accessors in swift and you do not have to worry about them being up to date or have to commit them
- [sourcery](https://github.com/krzysztofzablocki/Sourcery/issues/1023) would be awesome for custom code generation but at present no artefact is ready to be used as input

## Other examples

- [ReadioactiveCat](https://github.com/designatednerd/RadioactiveCat) with nice talk about it [speakerdeck](https://speakerdeck.com/designatednerd/generating-code-and-other-mischief-with-swift-package-manager-plugins-360idev-denver-co-august-2022?slide=85)
